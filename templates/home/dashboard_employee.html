{% extends 'base.html' %}
{% load static %}

{% block title %}Ù„ÙˆØ­Ø© Ø§Ù„Ù…ÙˆØ¸Ù{% endblock %}

{% block extra_css %}
  <link rel="stylesheet" href="{% static 'css/dashboard.css' %}">
{% endblock %}

{% block content %}
  <h1>Ù…Ø±Ø­Ø¨Ù‹Ø§ {{ request.user.first_name }} ğŸ‘‹</h1>
  <p>Ø¯ÙŠ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø®Ø§ØµØ© Ø¨ÙŠÙƒØŒ Ù‡Ù†Ø§ ØªÙ‚Ø¯Ø± ØªØªØ§Ø¨Ø¹ Ù…Ù‡Ø§Ù…Ùƒ.</p>

  <div class="stats">
    <div class="stat-box">
      <h2>{{ completed_tasks_count }}</h2>
      <p>Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©</p>
    </div>
    <div class="stat-box">
      <h2>{{ pending_tasks_count }}</h2>
      <p>Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ù…ØªØ¨Ù‚ÙŠØ©</p>
    </div>
  </div>

  <h2>ğŸ“‹ Ù‚Ø§Ø¦Ù…Ø© Ù…Ù‡Ø§Ù…Ùƒ</h2>
  <table class="task-table">
    <thead>
      <tr>
        <th>Ø§Ù„Ø­Ø§Ù„Ø©</th>
        <th>Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</th>
        <th>ØªØ§Ø±ÙŠØ® Ø§Ù„Ù†Ø´Ø±</th>
        <th>ØªÙØ§ØµÙŠÙ„</th>
      </tr>
    </thead>
    <tbody>
      {% for task in tasks %}
        <tr class="{% if task.status == 'Completed' %}completed{% else %}pending{% endif %}">
          <td>{{ task.status }}</td>
          <td>{{ task.article_title }}</td>
          <td>{{ task.publish_date }}</td>
          <td>{{ task.article_details|truncatechars:30 }}</td>
        </tr>
      {% empty %}
        <tr><td colspan="4">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù‡Ø§Ù… Ø­Ø§Ù„ÙŠÙ‹Ø§.</td></tr>
      {% endfor %}
    </tbody>
  </table>
{% endblock %}
